
<!doctype html>
<html>
	<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-133167119-2');
</script>
	<!-- reveal -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	
		<link rel="stylesheet" href="https://surveypositive.s3-us-west-2.amazonaws.com/css/reset.css">
		<link rel="stylesheet" href="https://surveypositive.s3-us-west-2.amazonaws.com/css/reveal.css">
		<link rel="stylesheet" href="https://surveypositive.s3-us-west-2.amazonaws.com/css/theme/blood.css">
		<link rel="stylesheet" href="https://surveypositive.s3-us-west-2.amazonaws.com/lib/css/monokai.css">
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
   integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
   crossorigin=""/>
   <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
   integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
   crossorigin=""></script>
		
		<script src="https://cdn.amcharts.com/lib/4/core.js"></script>
<script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
<script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
		<!-- added -->
		  <title>Antesala electoral Sonora 2021</title>
		   <meta name="author" content="Surveypositive">
		   <meta name=”description” content="Survey Positive: A platform to survey the opinion of Indians on important issues and analyse
		   responses using advanced data analysis and visualization tools.">
    <link rel="icon" href="https://surveypositive.s3-us-west-2.amazonaws.com/img/logo.png">
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'https://surveypositive.s3-us-west-2.amazonaws.com/css/print/pdf.css' : 'https://surveypositive.s3-us-west-2.amazonaws.com/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<style>
  .states{
fill:#ffe6e6;}

votes1:hover{fill:yellow;}
.rcolor1{fill:#ffe6e6;}
.rcolor1:hover{fill:yellow;}
.rcolor2{fill:#ffcccc;}
.rcolor3{fill:#ffb2b2;}
.rcolor4{fill:#ff9999;}
.rcolor5{fill:#ff8080;}
.rcolor6{fill:#ff6666;}
.rcolor7{fill:#ff4d4d;}
.rcolor8{fill:#ff3333;}
.rcolor9{fill:#ff1919;}
.rcolor10{fill:#ff0000;}
.rcolor11{fill:#ff0000;}
[class*="rcolor"]:hover{fill:yellow;}

@media screen and (max-width: 600px){
.svgcontainer{overflow:scroll;}
}
.negatives{
fill:#F7464A;

}
@media screen and (min-width: 800px){
.extrabt{display:none;}
}

.positives{
fill:#46BFBD;}
.negatives:hover{
opacity:#FF5A5E;
r:20;}
.positives:hover{
fill:#5AD3D1;
r:20;}

.statemenu{
width:1200px;
height:60px;
font-size:30px;
border-radius:20px;
text-align:center;
}
.stateoption{
font-size:22px;
text-align:center;
}
select:focus {    
    outline: none;
}

.reveal h2 {
	color: #dbe3e5;
}

.reveal a {
  color: #d3c09a;
  text-decoration: none;
  -webkit-transition: color .15s ease;
  -moz-transition: color .15s ease;
  transition: color .15s ease;
  text-transform: none }
 
.reveal a:hover {
  color: #d6e0f0;
  text-shadow: none;
  border: none; }

.reveal .roll span:after {
  color: #d6e0f0;
  background: #6a1520; }

.reveal .slides {
width: 100% !important;
}

#mapid { height: 600px;
		width: 100%; 
		}

		.reveal .leaflet-container .leaflet-fade-anim .leaflet-tile, .reveal .leaflet-container .leaflet-fade-anim .leaflet-popup {
    -webkit-transition: opacity 0.2s linear;
    -moz-transition: opacity 0.2s linear;
    -o-transition: opacity 0.2s linear;
    transition: opacity 0.2s linear;
}

.reveal .leaflet-container {
    font: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;
}

.reveal .leaflet-container img {
    margin: 0;
    background: none;
    border: none;
    box-shadow: none;
    max-height: inherit;
}

.reveal .leaflet-container .leaflet-popup-tip-container {
    margin: 0 auto;
}

.reveal .leaflet-container .leaflet-popup-content-wrapper {
    padding: 1px;
    margin: inherit;
}

.reveal .leaflet-container .leaflet-popup-content {
    margin: 13px 19px;
    line-height: 1.4;
}

.reveal .leaflet-container .leaflet-popup-content h3 {
    color: #333;
}

.reveal .leaflet-container .leaflet-popup-tip {
    padding: 1px;
    margin: -10px auto 0;
}

.reveal .leaflet-container .leaflet-popup-content, .reveal .leaflet-popup-content h2 {
    color: #333;
}

.reveal .leaflet-container .leaflet-popup-content pre {
    font-size: 14px;
    width: 100%;
    box-shadow: none;
}	

br {
   display: block;
   margin: 3px 0;
}
</style>


	<body >
		<div class="reveal">
			<div class="slides">
			<section data-state="state0" id="slide0" data-transition="slide" class="lo">
			<h5>Antesala de la <h5>
                <h2>Elección 2021</h2>
				<h3>En el estado de Sonora</h3>
				 <p style="color: #d3c09a;">
						<small>Análisis de encuestas, intención de voto y mapeo distrital</small>
					</p>
			</section>
				<section data-state="state1" id="slide1" class="lo" data-transition="slide" data-background="#222222">
			<h2> Menú</h2>
			<ol style="text-align:right;">
			<li><h3 style="font-size: 1em;"><a href="#/2" >Preferencias por partido</a></h3></li>
			<li><h3 style="font-size: 1em;"><a href="#/6" >Preferencias por candidato</a></h3></li>
			<li><h3 style="font-size: 1em;"><a href="#/13" >Preferencias por distrito</a></h3></li>
			</ol>
			
					
	
	</section>
	<section data-state="state2" id="slide2" class="do" data-transition="slide"   data-background="#303030" data-background-transition="zoom">
<h4><em>1. </em>Hallazgos en preferencias por partido</h4><br>
<ul style="list-style-type:none;">
	<li > <small>‣ Para el último mes, las encuestadoras <em>Factométrica</em> y <em>Massive Caller</em> muestran un ascenso en las preferencias hacia el PRI, solo <em>Demoscopía</em> muestra lo contrario</small></li><br>
	<li > <small>‣ En la última medición de sept-oct, las tres encuestadoras coinciden en un descenso de las preferencias hacia MORENA y PAN</small></li><br>
	<li ><small>‣ La cantidad de indecisos aumentó en los tres casos</small></li><br>
	<li ><small>‣ Para <em>Massive Caller</em> hay una tendencia a la baja en las preferencias de MORENA, aunque no se podría decir lo mismo de <em>Demoscopía</em> </small></li><br>
	<br>
	</ul>	
		
</section>
<section id="slide5" data-state="state5" class="do" data-background="#303030">

	<h4><em>1. </em>Preferencias por partido</h4>
				
	<iframe width="100%" height="600" src="https://live.amcharts.com/llMmR/embed/" frameborder="0"></iframe>

</section>
<section id="slide6" data-state="state6" class="lo" data-transition="slide" data-background="#222222" data-background-transition="zoom">
	<h4><em>2. </em>Hallazgos en preferencias por candidato</h4><br>
				
	<ul style="list-style-type:none;">
	<li > <small>‣ A pesar de que las preferencias han caído recientemente para MORENA, la popularidad de su candidato Alfonso Durazo se ha mantenido estable, y en algunos casos ha ido en aumento</small></li><br>
	<li > <small>‣ Mientras que hubo un repunte en el último mes de las preferencias hacia el PRI, la popularidad de Ernesto Gándara ha disminuido o en el mejor de los casos se ha mantenido estable</small></li><br>
	<li ><small>‣ Las preferencias hacia Antonio Astiazarán han presentado una leve tendencia a la baja, hasta el momento no superan el 10% que alcanzaba a inicios del año</small></li><br>
	<br>
	</ul>	
</section>
<section id="slide7" data-state="state7" class="lo" data-background="#303030">
	<h4><em>2. </em>Preferencias por candidato(a):</h4>
				
	<iframe width="100%" height="600" src="https://live.amcharts.com/A4YzZ/embed/" frameborder="0"></iframe>
</section>
<section id="slide8" data-state="state8" class="lo" data-background="#222222">
	<h4><em>3. </em>Hallazgos en preferencias por distrito</h4>
	<ul style="list-style-type:none;">
		<li ><small>‣ MORENA continúa manteniendo una alta preferencia en los distritos con cabecera en San Luis Río Colorado, Cd. Obregón y Hermosillo Norte</small></li><br>
		<li ><small>‣ No obstante la alta preferencia en el distrito de Cd. Obregón, ésta tuvo una fuerte caída (25%) respecto a la elección de 2018 donde obtuvo el 60% del voto</small></li><br>
		<li ><small>‣ La caída más pronunciada de MORENA respecto a la elección del 2018 ha sido en el sur del estado (Navojoa y Cd. Obregón), mientras que la menor ha sido en la frontera (Nogales y SLRC). A pesar de la fuerte caída de MORENA en el sur del estado, los distritos de Cd. Obregón y Navojoa siguen manteniendo los primeros lugares en preferencia hacia MORENA</small></li><br>
		<li ><small>‣ El PRI recuperó un 8% de las preferencias en la zona rural de Sonora con cabecera en Guaymas y en Nogales, en el caso de Cd. Obregón (aunque insuficiente) éste recuperó un 10%</small></li><br>
		<li ><small>‣ En SLRC y Navojoa, el PRI apenas recuperó un 3% de las preferencias respecto a la elección pasada</small></li><br>
		<li ><small>‣ El PAN mantiene una preferencia mayor a la del PRI en SLRC y en el distrito V de Hermosillo</small></li><br>
		<br>
		</ul>
</section>
<section id="slide9" data-state="state9" class="lo" data-background="#303030">
	<h4><em>3. </em>Preferencias por distrito electoral</h4>
	<iframe src="https://codesandbox.io/embed/eleccionesunosolov2-forked-p4otg?fontsize=14&hidenavigation=1&theme=dark&view=preview"
     style="width:100%; height:700px; border:0; border-radius: 4px; overflow:hidden;"
     title="EleccionesUnoSolov2 (forked)"
     allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking"
     sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"
   ></iframe>
</section><!--
<section id="slide10" data-state="state10" class="lo" data-background="#4d7e65">
</section>
<section id="slide11" data-state="state11" class="lo" data-background="#4d7e65">
</section>
<section id="slide12" data-state="state12" class="lo" data-background="#4d7e65">
</section>
<section id="slide13" data-state="state13" class="lo" data-transition="slide" data-background="#303030" data-background-transition="zoom">

<h3><em>3. </em>Charts</h3>
				
				<ol style="text-align:center;list-style-type:none;margin-top:60px;line-height:60px;">
				<li ><h4> <a href="#/14">Net Result</a></h4></li>
				<li > <h4><a href="#/15">Yes vs No Statewise </a></h4></li>
				<li > <h4><a href="#/16">Top 5 states </a></h4></li>
				
				
				</ol>
				<p style="margin-top:120px;"> <a href="#/1" style="color:white;">Back to index</a></p>
				
</section>
<section id="slide14" data-state="state14" class="lo" data-background="#4d7e65">
<h2>Net Result</h2>
				
				<ul style="list-style-type:none;">
				<li > <small>We received <em>60</em> votes for the survey yet.</small></li>
				<li > <small>Total Number of Yes : <em>54</em></small></li>
				<li ><small>Total Number of No :<em> 6</em></small></li>
				<br>
				</ul>
				<canvas id="pieChart"  style="max-width: 500px;width:100%;"></canvas>
				
				
</section>
<section id="slide15" data-state="state15" class="do" data-background="#4d7e65">
<h2 style="text-transform:none;">Yes vs No</h2>


<br>
<canvas id="state_pieChart"  style="max-width: 500px;width:100%;"></canvas>
<br>
<ul style="list-style-type:none;">
<li>
<select id="statenames"  onchange="drawState_piechart(this)" class="statemenu" style="margin-top:20px;padding-left:10px;">


 <option value='{"name":"Bihar","countyes":1,"countno":0 }' class="stateoption" selected >Bihar</option>



 <option value='{"name":"Delhi","countyes":47,"countno":6 }' class="stateoption"  >Delhi</option>



 <option value='{"name":"Maharashtra","countyes":3,"countno":0 }' class="stateoption"  >Maharashtra</option>



 <option value='{"name":"Tamil Nadu","countyes":2,"countno":0 }' class="stateoption"  >Tamil Nadu</option>



 <option value='{"name":"West Bengal","countyes":1,"countno":0 }' class="stateoption"  >West Bengal</option>


</select>
</li>
<li style="margin:auto; margin-top:6px;">
<small>Select the name of the state</small>
</li>
</ul>
</section>
<section id="slide16" data-state="state16" class="lo" data-background="#4d7e65">
<h3 style="text-transform:none;">Comparison of top States</h3>

				<canvas class="my-4" id="statechart"  height="300" ></canvas>
				
</section>
<section id="slide17" data-state="state17" class="do" data-transition="slide" data-background="#303030" data-background-transition="zoom">
<h3><em>4. </em>Conclusion</h3>
				
				<ol style="text-align:center;list-style-type:none;margin-top:60px;line-height:60px;">
				<li ><h4> <a href="#/18" >Findings</a></h4></li>
				<li > <h4><a href="#/19">Future </a></h4></li>
				<li > <h4><a href="#/20">References</a></h4></li>
				<li > <h4><a href="#/21">The End</a></h4></li>
				
				
				</ol>
				<p style="margin-top:120px;"> <a href="#/1" style="color:white;">Back to index</a></p>
				
</section>
<section id="slide18" data-state="state18" class="do" data-background="#b5533c" >
<h2>Findings</h2>
				<p>The survey is still going on. We will analyse the findings and patterns once its over</p>
				
</section>
<section id="slide19" data-state="state19" class="do" data-background="#b5533c" >

<h2>Future</h2>
				
				<ul style="list-style-type:none;">
				<li ><small>Once the survey is over, we will try to find patterns and anamolies. </small></li>
				<li ><small>If we find something strange, we will try to find reason behind it.</small></li>
				<li><small>If certain findings requires attention from authorities, we will try to ensure it.</small></li>
				<li><small>If Users notice somethings, they are encouraged to bring that to highlight. </small></li>
				<li><small>You can contact us at info@alliancepositive.com if you need more details.</small></li>
				</ul>
				
</section>
<section id="slide20" data-state="state20" class="do" data-background="#b5533c" >
<h3>References</h3>
				
				<ul>
				<li target="_blank"> Our Websites <a href="https://surveypositive.com" target="_blank"><strong>Survey Positive,</strong></a>
				 <a href="https://www.alliancepositive.com" target="_blank"><strong>Alliance Positive</strong></a>
					 </li>
					 
				<li >Our Facebook Community <a href="https://www.facebook.com/surveypositive" target="_blank"><strong>Survey Positive</strong></a></li>
				</ul>
				
</section>
<section id="slide21" data-state="state21" class="do">
<h2>Thank You</h2>
<h4>Keep Voting</h4>

				
</section>-->

		
				
			</div>
		</div>

		<script src="https://surveypositive.s3-us-west-2.amazonaws.com/js/reveal.js"></script>
		
 <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
   
		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				transition: 'slide',
				dependencies: [
					{ src: 'https://surveypositive.s3-us-west-2.amazonaws.com/plugin/markdown/marked.js' },
					{ src: 'https://surveypositive.s3-us-west-2.amazonaws.com/plugin/markdown/markdown.js' },
					{ src: 'https://surveypositive.s3-us-west-2.amazonaws.com/plugin/highlight/highlight.js' },
					{ src: 'https://surveypositive.s3-us-west-2.amazonaws.com/plugin/notes/notes.js', async: true }
				]
			});
		</script>
		
 <script>
  Reveal.addEventListener( 'state14', function() {
	drawNetresult();
	 });
	 Reveal.addEventListener( 'state15', function() {
	drawState_piechart(document.getElementById('statenames'));
	 });
	  Reveal.addEventListener( 'state16', function() {
	if(document.getElementById("slide16").classList.contains("lo")){drawStateChart();
	
	}
	 });
 function getslide(sno){
 var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {

      document.getElementById("slide"+String(sno)).innerHTML =this.responseText;
	  /*if(sno===14){drawNetresult();}
	  if(sno===15){drawState_piechart(document.getElementById('statenames'));}
	   if(sno===16){drawStateChart();}
	   */
	  	document.getElementById("slide"+String(sno)).classList.remove("lo");
document.getElementById("slide"+String(sno)).classList.add("do");
    }
  };
 
  xhttp.open("GET", "/getslide/"+String(sno)+"/3", true);
  xhttp.send();
 }
 for (let i=7;i<13;i++)
 {
 Reveal.addEventListener( 'state'+String(i), function() {

	 if(document.getElementById("slide"+String(i)).classList.contains("lo")){
	 
	getslide(i);
  
	 }});
	 
	
	 }


	 Reveal.addEventListener( 'state0', function() {
	 if(document.getElementById("slide0").classList.contains("lo")){loadmaps();
	 drawStateChart();
	document.getElementById("slide0").classList.remove("lo");
document.getElementById("slide0").classList.add("do");
	 }});
	 
	 
	 
	 
	 /*
	 Reveal.addEventListener( 'state13', function() {
	 if(document.getElementById("slide13").classList.contains("lo")){loadcharts();
	 }});
	 Reveal.addEventListener( 'state17', function() {
	 if(document.getElementById("slide17").classList.contains("lo")){loadconclusion();
	 }});
	   Reveal.addEventListener( 'state2', function() {
	 if(document.getElementById("slide5").classList.contains("lo")){loadabout();
	 }});
	*/
 function loadabout()
 {
 for (let i=3;i<6;i++)
 {
getslide(i);
 }
 document.getElementById("slide2").classList.remove("lo");
document.getElementById("slide2").classList.add("do");
 
 }
 
 function loadmaps()
 {
  for (let i=7;i<13;i++)
 {
getslide(i);
 }
  
 
 }
 
 function loadcharts()
 {
  for (let i=14;i<17;i++)
 {
getslide(i);
 }
  document.getElementById("slide13").classList.remove("lo");
document.getElementById("slide13").classList.add("do");
 }
 
 function loadconclusion()
 {
  for (let i=18;i<22;i++)
 {
getslide(i);
 }
  document.getElementById("slide17").classList.remove("lo");
document.getElementById("slide17").classList.add("do");
 }
 
 




	 
	  
	  
	  function drawStateChart(){
	  var xmlhttp = new XMLHttpRequest();
	  var statetest;
xmlhttp.onreadystatechange = function() {
  if (this.readyState == 4 && this.status == 200) {
    var statelist = JSON.parse(this.responseText);
	
var lbls,yesc,noc;
lbls=statelist.statenames;
	
	

	
	  yesc=statelist.countyes;

	  noc=statelist.countno;
	  
	  var ctx = document.getElementById("statechart");
	  var myChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: lbls,
		  
		 
          datasets: [{
            data: yesc,
			label:'Yes',
			lineTension: 0,
            
            
            
			backgroundColor: '#46BFBD',
            hoverBackgroundColor: '#5AD3D1'
          },
		  {
            data: noc,
			label:'No',
            lineTension: 0,
            
          
           
			backgroundColor: '#F7464A',
          hoverBackgroundColor: '#FF5A5E'
          },
		  ]
        },
        options: {
		   responsive: true,
          scales: {
            yAxes: [{
              ticks: {
			  fontColor: "white",
                beginAtZero: false
              },
			  scaleLabel: {
                    display: true,
					fontColor: "white",
                    labelString: 'Number of votes'
                  }
 
            }],
			xAxes: [{
      ticks: {
	  fontColor: "white",
        autoSkip: false
      },
	  scaleLabel: {
                    display: true,
					fontColor: "white",
                    labelString: 'States'
                  }
 
    }]
          },
		  
          legend: {
		  labels: {
                fontColor: "white",
                
            },
            display: true,
			
          }
        }
      });
   document.getElementById("slide16").classList.remove("lo");
document.getElementById("slide16").classList.add("do");
  }
  	  	
};
xmlhttp.open("GET", "/statedata/3", true);
xmlhttp.send();



}
	 		function drawNetresult(){
		  var ctxP = document.getElementById("pieChart").getContext('2d');
    var myPieChart = new Chart(ctxP, {
      type: 'pie',
      data: {
        labels: ["Yes", "No"],
        datasets: [{
          data: [54, 6],
          backgroundColor: [ "#46BFBD","#F7464A"],
          hoverBackgroundColor: [ "#5AD3D1","#FF5A5E"]
        }]
      },
      options: {
        responsive: true
      }
    });
	}
	function getslideagain(i){
	var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {

      document.getElementById("slide"+String(i)).innerHTML =
      this.responseText;
	  
    }
  };

  xhttp.open("GET", "/getslide/"+String(i)+"/3", true);
  xhttp.send();
	} 

	
function drawState_piechart(state){
var values=JSON.parse(state.value);

		  var ctxP = document.getElementById("state_pieChart").getContext('2d');
		  
    var myPieChart = new Chart(ctxP, {
      type: 'pie',
      data: {
        labels: ["Yes", "No"],
        datasets: [{
          data: [values.countyes, values.countno],
          backgroundColor: [ "#46BFBD","#F7464A"],
          hoverBackgroundColor: [ "#5AD3D1","#FF5A5E"]
        }]
      },
      options: {
        responsive: true
      }
    });
	}


	</script>

	</body>
</html>
